(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Tpa = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports=function(){"use strict";var t=Math.pow(2,25),i=Math.floor(Math.sqrt(t)),s=Math.pow(t,2),e="Number initialisation parameter badly formed",h=function(t){var i;if(!(this instanceof h))return"undefined"==typeof t?new h:new h(t);if(0==arguments.length)this.digits=[],this.safemaximum=0;else if(t instanceof h){for(this.digits=new Array(t.digits.length),i=this.digits.length-1;i>=0;i--)this.digits[i]=t.digits[i];this.safemaximum=t.safemaximum}else if("number"==typeof t){if(isNaN(t))throw new Error(e);this.set(Math.trunc(t))}else{if("string"!=typeof t)throw new Error(e);var s="-"==t[0]?-1:1;for(this.digits=[],this.safemaximum=0,i="-"==t[0]||"+"==t[0]?1:0;i<t.length&&/^\d$/.test(t[i]);i++)this._digitMultiplyWithAdd(10,s*parseInt(t[i]));if(i!=t.length)throw new Error(e)}};h.prototype.normalise=function(i){if(this.safemaximum>=t){for(var s=0,e=0;s<this.digits.length;s++)e+=this.digits[s],this.digits[s]=e%t,e=Math.trunc(e/t);e&&(this.digits[this.digits.length]=e),this.safemaximum=t-1}if(i)return this;for(;this.digits.length>0&&0==this.digits[this.digits.length-1];)this.digits.length--;return this},h.prototype.positivise=function(){for(var i=0;i<this.digits.length;i++)this.digits[i]<0&&(this.digits[i]+=t,this.digits[i+1]--);for(;this.digits.length>0&&0==this.digits[this.digits.length-1];)this.digits.length--;return this},h.prototype.isNegative=function(){return this.isZero()?!1:this.digits[this.digits.length-1]<0},h.prototype.isZero=function(){return 0==this.normalise().digits.length},h.prototype.isPositive=function(){return this.isZero()?!1:this.digits[this.digits.length-1]>0},h.prototype.lsb=function(){return this.isZero()?0:(t+this.digits[0])%t},h.prototype.reset=function(){return this.digits=[],this.safemaximum=0,this},h.prototype.isDivisibleBy=function(i){if(t>i){for(var s=this.digits.length-1,e=0;s>=0;s--)e=e%i*t+this.digits[s];return e%i==0}},h.prototype.set=function(i){this.digits=[],this.safemaximum=0;for(var s=0;0!=i;s++)this.digits[s]=i%t,i=Math.trunc(i/t);return this.safemaximum=t-1,this},h.prototype.value=function(){for(var i=this.digits.length-1,s=0;i>=0;i--)s+=this.digits[i]*Math.pow(t,i);return s},h.prototype.compare=function(t){if(this.digits.length>t.digits.length)return 1;if(this.digits.length<t.digits.length)return-1;for(var i=this.digits.length-1;i>=0;i--){if(this.digits[i]>t.digits[i])return 1;if(this.digits[i]<t.digits[i])return-1}return 0},h.abs=function(t){return new h(t).abs()},h.prototype.abs=function(){return this.isNegative()&&this.negate(),this},h.prototype.add=function(t){var i;this.safemaximum=this.safemaximum+t.safemaximum,this.safemaximum>=s&&this.normalise();var e=this.digits.length;if(t.digits.length>e)for(this.digits.length=t.digits.length,i=e;i<t.digits.length;i++)this.digits[i]=t.digits[i];for(i=Math.min(e,t.digits.length)-1;i>=0;i--)this.digits[i]+=t.digits[i];return this},h.prototype.negate=function(){for(var t=0;t<this.digits.length;t++)this.digits[t]=-this.digits[t];return this},h.prototype.subtract=function(t){var i;this.safemaximum=this.safemaximum+t.safemaximum,this.safemaximum>=s&&this.normalise();var e=this.digits.length;if(t.digits.length>e)for(this.digits.length=t.digits.length,i=e;i<t.digits.length;i++)this.digits[i]=-t.digits[i];for(i=Math.min(e,t.digits.length)-1;i>=0;i--)this.digits[i]-=t.digits[i];return this},h.prototype.multiply=function(e){var h;if(0==e.digits.length||0==this.digits.length)return this.reset();if(1==e.digits.length){var r=e.digits[0];if(this.safemaximum=this.safemaximum*Math.abs(r),this.safemaximum<s)for(h=this.digits.length-1;h>=0;h--)this.digits[h]*=r;else this._digitMultiplyWithAdd(r,0);return this}e.safemaximum>=t&&e.normalise(),this.safemaximum>=t&&this.normalise();var n=e.digits,g=this.digits;for(this.digits=new Array(g.length+n.length-1),h=0;h<this.digits.length;h++)this.digits[h]=0;return g.length>3&&n.length>3?this._rapidMultiplication(g,n,!0)._digitMultiplyWithAdd(i,0)._rapidMultiplication(g,n,!1):this._basicMultiplication(g,n)},h.prototype.digitMultiply=function(t){return this._digitMultiplyWithAdd(t,0)},h.prototype.random=function(i){this.reset();for(var s=Math.log(t)/Math.log(10),e=0;i>s;e++)this.digits[e]=Math.trunc(Math.random()*t),i-=s;return this.digits[e]=Math.trunc((1+Math.random())*Math.pow(10,i)),this.safemaximum=t-1,this},h.prototype.quotient=function(t){return this.divide(t),this},h.prototype.divide=function(i){var s,e,r=new h;if(i.safemaximum>=t&&i.normalise(),this.safemaximum>=t&&this.normalise(),0==this.digits.length)return r;if(0==i.digits.length)throw new Error("Attempt to divide by zero");if(1==i.digits.length)return r.set(this.digitDivide(i.digits[0]));var n=Math.sign(this.digits[this.digits.length-1]),g=Math.sign(i.digits[i.digits.length-1]);0>n?this.abs().positivise():this.positivise(),0>g?i.abs().positivise():i.positivise();var a=this.compare(i);switch(a){case-1:r=new h(this),this.reset();break;case 0:this.set(1);break;case 1:var o=i.digits,d=r.digits=this.digits.slice(this.digits.length-i.digits.length);r.safemaximum=this.safemaximum,this.digits.length-=d.length;var l;for(s=this.digits.length;s>=0;s--){for(this.digits[s]=0;r.compare(i)>=0;)l=d[d.length-1]*t+d[d.length-2],l=o.length<d.length?Math.max(1,Math.trunc(l/(o[o.length-1]+(o[o.length-2]+1)/t))):Math.max(1,Math.trunc(l/(o[o.length-1]*t+o[o.length-2]+1))),this.digits[s]+=l,r._subtractMultiple(o,l);if(s>0){for(e=d.length;e>0;e--)d[e]=d[e-1];d[0]=this.digits[s-1]}}}for(0>n*g&&(this.negate(),r.negate());this.digits.length>0&&0==this.digits[this.digits.length-1];)this.digits.length--;return r},h.prototype.digitDivide=function(i){for(var s,e=this.digits.length-1,h=0;e>=0;e--)s=h*t+this.digits[e],this.digits[e]=Math.trunc(s/i),h=s%i;for(;this.digits.length>0&&0==this.digits[this.digits.length-1];)this.digits.length--;return this.safemaximum=t-1,h},h.prototype.toString=function(){for(var t=this.isNegative()?"-":"",i=new h(this).abs().normalise().positivise();!i.isZero();)t=i.divide(h.TEN).lsb()+t;return 0==t.length&&(t="0"),t},h.prototype._digitMultiplyWithAdd=function(i,s){this.safemaximum>=t&&this.normalise(!0);for(var e=0;e<this.digits.length;e++)s+=this.digits[e]*i,this.digits[e]=s%t,s=Math.trunc(s/t);return s&&(this.digits[this.digits.length]=s),this.safemaximum=t-1,this},h.prototype._basicMultiplication=function(i,s){if(i.length>s.length){var e=i;i=s,s=e}for(var h=0,r=1,n=0,g=0;h<i.length;h++){for(n=i[h]%t,r=0,g=0;r<s.length;r++)g+=n*s[r]+this.digits[h+r],this.digits[h+r]=g%t,g=Math.trunc(g/t);g&&(this.digits[h+r]=g)}return this.safemaximum=t-1,this},h.prototype._rapidMultiplication=function(t,s,e){var h;if(t.length>s.length){var r=t;t=s,s=r}for(var n=t.length-1;n>=0;n--)if(h=e?Math.trunc(t[n]/i):t[n]%i,0!=h)for(var g=s.length-1;g>=0;g--)this.digits[n+g]+=h*s[g];return this.safemaximum*=i,this},h.prototype._subtractMultiple=function(i,s){for(var e=0,h=0,r=0;e<i.length;e++)h+=i[e]*s,r=h%t,h=Math.trunc(h/t),r>this.digits[e]?(this.digits[e]+=t-r,h++):this.digits[e]-=r;for(h&&(this.digits[e]-=h);this.digits.length>0&&0==this.digits[this.digits.length-1];)this.digits.length--},h.prototype._roughSqrt=function(){var i=new h;if(this.digits.length>0)if(1==this.digits.length)i.set(Math.ceil(Math.sqrt(this.digits[0])));else{var s=Math.ceil(Math.sqrt(this.digits[this.digits.length-1]*t+this.digits[this.digits.length-2]+1));i.digits=this.digits.slice(0,Math.trunc((this.digits.length-2)/2)),this.digits.length%2==1&&(s*=Math.sqrt(t)),i.digits.push(s%t)}return i},h.ZERO=new h,h.ONE=(new h).set(1),h.TWO=(new h).set(2),h.TEN=(new h).set(10),h.Primes=function(){function i(){this.iterator=0}var s=[2,3];return i.prototype.next=function(){if(this.iterator<s.length)return s[this.iterator++];var i=s[s.length-1];do{if(i+=2,i>=t)return 0;for(var e=Math.sqrt(i),h=!0,r=0;r<s.length&&s[r]<=e;r++)if(i%s[r]==0){h=!1;break}}while(!h);return s.push(i),this.iterator++,i},i}();var r=new h;return h.temporary=function(t){r.digits.length=t.digits.length;for(var i=0;i<t.digits.length;i++)r.digits[i]=t.digits[i];return r.safemaximum=t.safemaximum,r},h}();
},{}],2:[function(require,module,exports){
module.exports=function(e){"use strict";function r(e,r){return{numerator:e instanceof a?e:new a,denominator:r instanceof a?r:new a(1)}}function t(e,r){if(!(this instanceof o)){if(e instanceof o&&("boolean"!=typeof r||r==e.integer))return e;switch(arguments.length){case 0:return new o;case 1:return new o(e);default:return new o(e,r)}}return this.set.apply(this,arguments)}var i="Number initialisation parameter badly formed",n=8;Math.trunc=Math.trunc||function(e){return 0>e?Math.ceil(e):Math.floor(e)},Math.sign=Math.sign||function(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1};var o=t,a=require("./N.js");return o.prototype.set=function(e,t){function m(e,t){u.remainder=r();for(var n=0,o=null;n<e.length;n++)if("["!=e[n]||null!==o){if(o&&"]"==e[n])return u.remainder.numerator.subtract(o.numerator),u.remainder.denominator.subtract(o.denominator),this;u.remainder.denominator._digitMultiplyWithAdd(10,0),u.remainder.numerator._digitMultiplyWithAdd(10,t*parseInt(e[n]))}else o={numerator:new a(u.remainder.numerator),denominator:new a(u.remainder.denominator)};if(o)throw new Error(i)}function s(e){var t=r(new a(e.match(/^[\+\-]?\d+/)[0]),new a(e.match(/\/(\d+)$/)[1]));if(t.denominator.isZero())throw new Error(i);u.integer?u.number.add(t.numerator.quotient(t.denominator)):(u.remainder=t,u._normaliseRemainder())}var u=this;if(this.integer=!0,"boolean"==typeof e&&(this.integer=e),"boolean"==typeof t&&(this.integer=t),e instanceof o)return this.number=new a(e.number),"boolean"!=typeof t&&e.isFractional()&&(this.integer=!1),this.integer||(e.isInteger()?this.remainder=r():this.remainder={numerator:new a(e.remainder.numerator),denominator:new a(e.remainder.denominator)}),this;if("number"==typeof e){this.number=new a(e);var d=Math.pow(10,n),h=Math.trunc((e-Math.trunc(e)).toFixed(n)*d);if("boolean"!=typeof t||!this.integer){for("boolean"!=typeof t&&(this.integer=0==h);0!=h&&h%10==0;)h/=10,d/=10;(h>0||!this.integer)&&(this.integer=!1,this.remainder={numerator:new a(h),denominator:new a(d)})}return this}if("string"==typeof e){if(e=e.trim(),this.integer||(this.remainder=r()),e.match(/^[\+\-]?\d+\/\d+$/))"boolean"!=typeof t&&(this.integer=!1),this.number=new a,s(e);else{var p="-"==e[0];if(null===e.match(/^[\+\-]?\d*/))throw new Error(i);if(this.number=new a(e.match(/^[\+\-]?\d*/)[0]),e.match(/^[\+\-]?\d*$/))return this;var l=e.match(/^[\+\-]?\d*([\. ])/);if(null===l)throw new Error(i);var f=e.match(/^[\+\-]?\d*[\. ](.*)/)[1];switch("boolean"!=typeof t&&(this.integer=!1),l[1]){case".":if(null===f.match(/^\d*\[?\d+\]?$/))throw new Error(i);this.integer||m(f,p?-1:1);break;case" ":if(null===f.match(/^\d+\/\d+$/))throw new Error(i);s((p?"-":"")+f)}}return this}if("undefined"==typeof e&&arguments.length>0)throw new Error(i);return this.number=new a,this.integer||(this.remainder=r()),this},o.prototype.simplify=function(e){if(arguments.length>0&&("number"!=typeof e||isNaN(e)))throw new Error("Simplify() takes an optional numeric argument specifying the maximum number of millisecondsto process");if("undefined"==typeof e&&(e=100),this.isInteger()||this.remainder.numerator.isZero())return!0;for(var r=a.abs(this.remainder.numerator)._roughSqrt().value(),t=new a.Primes,i=(new Date).getTime(),n=(new a).set(1),o=t.next();o>0&&r>=o;o=t.next()){for(;this.remainder.numerator.isDivisibleBy(o);)this.remainder.numerator.digitDivide(o),this.remainder.denominator.isDivisibleBy(o)?this.remainder.denominator.digitDivide(o):n.digitMultiply(o);if((new Date).getTime()-i>e&&e>0){o=0;break}}var m=new a(this.remainder.denominator),s=m.divide(this.remainder.numerator);return s.isZero()?(this.remainder.denominator=m,this.remainder.numerator=n,!0):(this.remainder.numerator.multiply(n),o>0)},o.prototype.makeInteger=function(){return this.integer=!0,delete this.remainder,this},o.prototype.makeFractional=function(){return this.integer&&(this.integer=!1,this.remainder=r()),this},o.prototype.isInteger=function(){return this.integer},o.prototype.isFractional=function(){return!this.integer},o.prototype.isNegative=function(){return this.isZero()?!1:this.number.isZero()?this.remainder.numerator.isNegative():this.number.isNegative()},o.prototype.isPositive=function(){return this.isZero()?!1:this.number.isZero()?this.remainder.numerator.isPositive():this.number.isPositive()},o.prototype.isZero=function(){return this._normaliseRemainder(),this.number.isZero()&&(this.isInteger()||this.remainder.numerator.isZero())},o.prototype.sign=function(){return this.isZero()?0:this.isNegative()?-1:1},o.prototype.hasFraction=function(){return this.integer?!1:(this._normaliseRemainder(),!this.remainder.numerator.isZero())},o.prototype.value=function(){var e=Math.pow(10,n);if(this.integer)return this.number.value();var r=new a(this.remainder.numerator).multiply(new a(e));return r.divide(this.remainder.denominator),this.number.value()+1*(r.value()/e).toFixed(n)},o.makeFractional=function(e){return new o(e).makeFractional()},o.makeInteger=function(e){return new o(e).makeInteger()},o.frac=function(e){return new o(e).frac()},o["int"]=function(e){return new o(e)["int"]()},o.add=function(e,r){return new o(e).add(r)},o.subtract=function(e,r){return new o(e).subtract(r)},o.multiply=function(e,r){return new o(e).multiply(r)},o.divide=function(e,r){return new o(e).divide(r)},o.modulus=function(e,r){return new o(e).mod(r)},o.abs=function(e){return new o(e).abs()},o.random=function(e){if(!("number"==typeof e&&e>0))throw new Error("You must specify a positive number of decimal digits as an approximate size for this number");var r=new o;return r.number.random(e),r},o.prototype.compare=function(e){function r(e,r){return a.abs(e).normalise().positivise().compare(a.abs(r).positivise().normalise())}if(e===this)return 0;if(e=o(e),this._normaliseRemainder(),e._normaliseRemainder(),this.sign()!=e.sign())return 0==this.sign()?-e.sign():this.sign();var t=r(this.number,e.number);return 0==t&&this.isFractional()&&e.isFractional()&&(t=r(new a(this.remainder.numerator).multiply(e.remainder.denominator),new a(this.remainder.denominator).multiply(e.remainder.numerator))),t},o.prototype.lt=function(e){return-1==this.compare(e)},o.prototype.lte=function(e){return 1!=this.compare(e)},o.prototype.gt=function(e){return 1==this.compare(e)},o.prototype.gte=function(e){return-1!=this.compare(e)},o.prototype.eq=function(e){return 0==this.compare(e)},o.prototype["int"]=function(){return this.integer||(this.remainder=r()),this},o.prototype.frac=function(){return this._normaliseRemainder().number.reset(),this},o.prototype.abs=function(){return this.number.abs(),this.integer||this.remainder.numerator.abs(),this},o.prototype.multiply=function(e){return e instanceof t||(e=o(e)),this.integer||(e.integer?this.remainder.numerator.multiply(e.number):(this.remainder.numerator.multiply(a.temporary(e.remainder.denominator).multiply(e.number).add(e.remainder.numerator)).add(a.temporary(e.remainder.numerator).multiply(this.number).multiply(this.remainder.denominator)),this.remainder.denominator.multiply(e.remainder.denominator))),this.number.multiply(e.number),this},o.prototype.divide=function(e){return e instanceof t||(e=o(e)),this.integer?this.number.divide(e.number):e.integer?(this.number.multiply(this.remainder.denominator).add(this.remainder.numerator),this.remainder.numerator=this.number.divide(this.remainder.denominator.multiply(e.number))):(this.number.multiply(this.remainder.denominator).add(this.remainder.numerator).multiply(e.remainder.denominator),this.remainder.numerator=this.number.divide(this.remainder.denominator.multiply(a.temporary(e.number).multiply(e.remainder.denominator).add(e.remainder.numerator)))),this},o.prototype.modulus=function(e){return e instanceof t||(e=o(e)),this.number=this.number.divide(e.number),this.integer||(this.remainder=r()),this},o.prototype.subtract=function(e){return e instanceof t||(e=o(e)),this.number.subtract(e.number),this.integer||(e.integer||e.remainder.numerator.isZero()||(this.remainder.numerator.multiply(e.remainder.denominator),this.remainder.numerator.subtract(a.temporary(e.remainder.numerator).multiply(this.remainder.denominator)),this.remainder.denominator.multiply(e.remainder.denominator)),this._normaliseRemainder()),this},o.prototype.add=function(e){return e instanceof t||(e=o(e)),this.number.add(e.number),this.integer||(e.integer||e.remainder.numerator.isZero()||(this.remainder.numerator.multiply(e.remainder.denominator),this.remainder.numerator.add(a.temporary(e.remainder.numerator).multiply(this.remainder.denominator)),this.remainder.denominator.multiply(e.remainder.denominator)),this._normaliseRemainder()),this},o.prototype.toDecimal=function(e){return"undefined"==typeof e?this.toString():this.toString(e)},o.prototype.toInteger=function(){return this._normaliseRemainder(),(this.isNegative()?"-":"")+a.abs(this.number).toString()},o.prototype.toFraction=function(){var e=this.toInteger();return this.isFractional()&&!this.remainder.numerator.isZero()&&(e=e+" "+a.abs(this.remainder.numerator).toString(),e=e+"/"+this.remainder.denominator.toString()),e},o.prototype.toString=function(e){if("number"!=typeof e||isNaN(e)){if(arguments.length>0)throw new Error("toString() takes an optional parameter to specify the maximum DPs to output [default=100]");e=100}var r=this.toInteger();if(this.isFractional()&&!this.remainder.numerator.isZero()){r+=".";for(var t=[],i=new a(this.remainder.numerator).abs().normalise().positivise(),n=0;!i.isZero()&&e>0;e--){for(var o=t.length-1;o>=0&&0!=t[o].compare(i);o--);if(o>=0){r=r.substr(0,r.length+o-t.length)+"["+r.substr(r.length+o-t.length)+"]";break}t.push(new a(i)),n=i._digitMultiplyWithAdd(10,0).divide(this.remainder.denominator),r+=i.lsb(),i=n}0!=e||i.isZero()||(r+="...")}return r},o.prototype._normaliseRemainder=function(){if(!this.integer){var e=this.remainder.numerator.divide(this.remainder.denominator);this.number.add(this.remainder.numerator),this.remainder.numerator=e,this.remainder.numerator.isZero()?this.remainder.denominator.set(1):this.remainder.numerator.isNegative()?this.number.isPositive()&&(this.remainder.numerator.add(this.remainder.denominator),this.number.subtract(a.ONE)):this.number.isNegative()&&(this.remainder.numerator.subtract(this.remainder.denominator),this.number.add(a.ONE))}return this},o.plus=o.add,o.prototype.plus=o.prototype.add,o.minus=o.subtract,o.prototype.minus=o.prototype.subtract,o.sub=o.subtract,o.prototype.sub=o.prototype.subtract,o.times=o.multiply,o.prototype.times=o.prototype.multiply,o.mult=o.multiply,o.prototype.mult=o.prototype.multiply,o.div=o.divide,o.prototype.div=o.prototype.divide,o.mod=o.modulus,o.prototype.mod=o.prototype.modulus,o}();
},{"./N.js":1}]},{},[2])(2)
});